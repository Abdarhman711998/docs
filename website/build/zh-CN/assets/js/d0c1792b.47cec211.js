"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4203],{18765:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=t(85893),r=t(11151),i=t(42352);const s={id:"components",title:"Components"},c=void 0,a={id:"bos/components",title:"Components",description:"NEAR allows you to create a decentralized frontend by writing and composing small applications known as Components.",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/bos/components.md",sourceDirName:"bos",slug:"/bos/components",permalink:"/zh-CN/bos/components",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/bos/components.md",tags:[],version:"current",frontMatter:{id:"components",title:"Components"},sidebar:"integrate",previous:{title:"Gateways",permalink:"/zh-CN/bos/tutorial/bos-gateway"},next:{title:"Widget",permalink:"/zh-CN/bos/components/widgets"}},d={},l=[{value:"Creating a Component",id:"creating-a-component",level:2},{value:"VM context",id:"vm-context",level:2},{value:"<code>networkId</code>",id:"networkid",level:3},{value:"<code>accountId</code>",id:"accountid",level:3},{value:"Props: Receiving Input",id:"props-receiving-input",level:2},{value:"State: Storing Information",id:"state-storing-information",level:2},{value:"Composing Components",id:"composing-components",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["NEAR allows you to create a decentralized frontend by writing and composing small applications known as ",(0,o.jsx)(n.code,{children:"Components"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Components are stored in the NEAR blockchain, and execute locally in a custom Virtual Machine, thus ensuring the component can not access local storage or cookies."}),"\n",(0,o.jsx)(n.admonition,{title:"Components API",type:"info",children:(0,o.jsxs)(n.p,{children:["Components use the ",(0,o.jsx)(n.a,{href:"/zh-CN/bos/api/home",children:(0,o.jsx)(n.strong,{children:"Components API"})})," to process data, fetch data from other websites, and interact with blockchains."]})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"creating-a-component",children:"Creating a Component"}),"\n",(0,o.jsx)(n.p,{children:"To create a component you simply need to implement a return statement, returning some HTML code."}),"\n",(0,o.jsx)(i.W,{id:"1",height:"130px",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'let greeting = "Have a great day";\n\nreturn (\n  <>\n    <div class="container border border-info p-3 text-center ">\n      <h1>Hello</h1>\n      <p> {greeting} </p>\n    </div>\n  </>\n);\n'})})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"vm-context",children:"VM context"}),"\n",(0,o.jsxs)(n.p,{children:["You can access the ",(0,o.jsx)(n.code,{children:"context"})," object to get specific information about the VM instance."]}),"\n",(0,o.jsx)(n.h3,{id:"networkid",children:(0,o.jsx)(n.code,{children:"networkId"})}),"\n",(0,o.jsxs)(n.p,{children:["You can detect the current network (",(0,o.jsx)(n.code,{children:"mainnet"})," or ",(0,o.jsx)(n.code,{children:"testnet"}),") using ",(0,o.jsx)(n.code,{children:"context.networkId"}),". For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'const childSrc =\n  context.networkId === "mainnet"\n    ? "near/src/Foobar"\n    : "preview.testnet/src/Foobar";\n\nreturn (\n  <div>\n    <p>A child dependency:</p>\n    <Widget src={childSrc} />\n  </div>\n);\n'})}),"\n",(0,o.jsx)(n.h3,{id:"accountid",children:(0,o.jsx)(n.code,{children:"accountId"})}),"\n",(0,o.jsxs)(n.p,{children:["You can get the current signed-in user account (e.g., ",(0,o.jsx)(n.code,{children:"user.near"}),") using ",(0,o.jsx)(n.code,{children:"context.accountId"}),". For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'let user_account = context.accountId;\n\nreturn (\n  <>\n    <div class="container border border-info p-3 text-center ">\n      <h1>Hello</h1>\n      <p> {user_account} </p>\n    </div>\n  </>\n);\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"props-receiving-input",children:"Props: Receiving Input"}),"\n",(0,o.jsxs)(n.p,{children:["Components can take arbitrary input, which will be reflected in the ",(0,o.jsx)(n.code,{children:"props"})," variable. In the example below, we are passing as input ",(0,o.jsx)(n.code,{children:'name="Anna"'}),"."]}),"\n",(0,o.jsx)(i.W,{id:"2",height:"130px",properties:{name:"Anna"},children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'let name = props.name || "User";\nlet greeting = "Have a great day";\n\nreturn (\n  <>\n    <div class="container border border-info p-3 text-center ">\n      <h1>Hello {name}</h1>\n      <p> {greeting} </p>\n    </div>\n  </>\n);\n'})})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"state-storing-information",children:"State: Storing Information"}),"\n",(0,o.jsx)(n.p,{children:"Components have an internal state were they can store information."}),"\n",(0,o.jsx)(i.W,{id:"3",height:"150px",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'State.init({greeting: "Have a great day"});\n\nconst onChange = ({target}) => { State.update({greeting: target.value}) };\n\nreturn (\n  <>\n    <div class="container border border-info p-3 ">\n      <p><b> Greeting: </b>  {state.greeting} </p>\n\n      <label class="text-left">Change the Greeting</label>\n      <input onChange={onChange} />\n    </div>\n  </>\n);\n'})})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"composing-components",children:"Composing Components"}),"\n",(0,o.jsxs)(n.p,{children:["To compose components you will use the ",(0,o.jsxs)(n.a,{href:"/zh-CN/bos/components/widgets",children:["Predefined ",(0,o.jsx)(n.code,{children:"Widget"})," component"]}),". For this, you will only need the NEAR username of who created the component, and the component's name."]}),"\n",(0,o.jsx)(i.W,{id:"4",height:"200px",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'const user = "gagdiez.near";\nconst props = { name: "Anna" };\n\nreturn (\n  <>\n    <div class="container ">\n\n      <h5> Components can be composed </h5>\n      <hr />\n\n      <Widget src={`${user}/widget/Greetings`} props={props} />\n    </div>\n  </>\n);\n'})})})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},42352:(e,n,t)=>{t.d(n,{W:()=>c});var o=t(67294),r=t(16729),i=t(91262),s=t(85893);function c(e){var n=e.children,c=e.id,a=void 0===c?1:c,d=e.height,l=void 0===d?"160px":d;return(0,s.jsx)(i.Z,{fallback:(0,s.jsx)("div",{children:" Loading... "}),children:function(){var e="";try{e=n.props.children.props.children}catch(j){}var i=t(58613),c=i.Widget,d=i.useInitNear,h=t(2302).ZP,p=(0,o.useState)(e),g=p[0],m=p[1],u=d().initNear,x=(0,r.O)().selector;return(0,o.useEffect)((function(){u&&x&&u({networkId:"mainnet",selector:x})}),[u,x]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{class:"monaco",children:(0,s.jsx)(h,{height:l,value:g,options:{minimap:{enabled:!1},wordWrap:"on",scrollBeyondLastLine:!1,fontSize:"14px",renderLineHighlight:!1,hideMargin:!0,glyphMargin:!1,folding:!1,lineNumbers:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,scrollBars:!1},onChange:function(e,n){return m(e)}})}),(0,s.jsxs)("div",{class:"code_iframe",children:[(0,s.jsxs)("h4",{style:{fontWeight:0},children:[" Preview ",(0,s.jsx)("small",{children:" - Edit the code above! "})," "]}),(0,s.jsx)("hr",{class:"preview-border"}),(0,s.jsx)("div",{class:"bootstrap-scope",children:(0,s.jsx)("div",{class:"vm-widget",children:(0,s.jsx)(c,{code:g},a)})})]})]})}})}}}]);