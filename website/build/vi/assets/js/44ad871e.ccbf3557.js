"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6647],{14741:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var i=t(85893),s=t(11151);const r={id:"storage-solutions",title:"C\xe1c gi\u1ea3i ph\xe1p l\u01b0u tr\u1eef phi t\u1eadp trung",sidebar_label:"C\xe1c gi\u1ea3i ph\xe1p thay th\u1ebf"},a=void 0,c={id:"concepts/storage/storage-solutions",title:"C\xe1c gi\u1ea3i ph\xe1p l\u01b0u tr\u1eef phi t\u1eadp trung",description:"Trong b\xe0i vi\u1ebft n\xe0y, ch\xfang ta s\u1ebd n\u1eafm \u0111\u01b0\u1ee3c t\u1ed5ng quan c\xe1ch th\u1ee9c l\u01b0u tr\u1eef c\u1ee7a c\xe1c \u1ee9ng d\u1ee5ng phi t\u1eadp trung (dAPPs) m\xe0 b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng cho \u1ee9ng d\u1ee5ng c\u1ee7a m\xecnh. \u0110i\u1ec1u n\xe0y s\u1ebd cho ph\xe9p b\u1ea1n l\u01b0u tr\u1eef m\u1ed9t l\u01b0\u1ee3ng l\u1edbn d\u1eef li\u1ec7u, b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\u1ed9t gi\u1ea3i ph\xe1p thay th\u1ebf ti\u1ebft ki\u1ec7m h\u01a1n so v\u1edbi native NEAR storage.",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/1.concepts/storage/decentralized-storage.md",sourceDirName:"1.concepts/storage",slug:"/concepts/storage/storage-solutions",permalink:"/vi/concepts/storage/storage-solutions",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/1.concepts/storage/decentralized-storage.md",tags:[],version:"current",frontMatter:{id:"storage-solutions",title:"C\xe1c gi\u1ea3i ph\xe1p l\u01b0u tr\u1eef phi t\u1eadp trung",sidebar_label:"C\xe1c gi\u1ea3i ph\xe1p thay th\u1ebf"},sidebar:"concepts",previous:{title:"Storage Staking",permalink:"/vi/concepts/storage/storage-staking"},next:{title:"C\xe1c Validator",permalink:"/vi/concepts/basics/validators"}},o={},h=[{value:"On-Chain Storage Constraints",id:"on-chain-storage-constraints",level:2},{value:"Arweave",id:"arweave",level:2},{value:"Example implementation",id:"example-implementation",level:3},{value:"Arlocal setup",id:"arlocal-setup",level:3},{value:"NEAR-Arweave frontend",id:"near-arweave-frontend",level:3},{value:"Mining your transaction",id:"mining-your-transaction",level:3},{value:"Nh\u1eadn h\xecnh",id:"nh\u1eadn-h\xecnh",level:3},{value:"Crust",id:"crust",level:2},{value:"Integration example",id:"integration-example",level:3},{value:"1. Upload the file to IPFS",id:"1-upload-the-file-to-ipfs",level:4},{value:"2. Place an storage order",id:"2-place-an-storage-order",level:4},{value:"3. Query order status",id:"3-query-order-status",level:4},{value:"4. Add file prepaid",id:"4-add-file-prepaid",level:4},{value:"IPFS",id:"ipfs",level:2},{value:"Content identifier",id:"content-identifier",level:3},{value:"T\xecm ki\u1ebfm",id:"t\xecm-ki\u1ebfm",level:3},{value:"\u0110\xe1nh d\u1ea5u n\u1ed9i dung",id:"\u0111\xe1nh-d\u1ea5u-n\u1ed9i-dung",level:3},{value:"Phi\xean b\u1ea3n c\u1ee7a file",id:"phi\xean-b\u1ea3n-c\u1ee7a-file",level:3},{value:"Naming system",id:"naming-system",level:3},{value:"C\xe1c nh\xe0 cung c\u1ea5p IPFS",id:"c\xe1c-nh\xe0-cung-c\u1ea5p-ipfs",level:3},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:3}];function l(n){const e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Trong b\xe0i vi\u1ebft n\xe0y, ch\xfang ta s\u1ebd n\u1eafm \u0111\u01b0\u1ee3c t\u1ed5ng quan c\xe1ch th\u1ee9c l\u01b0u tr\u1eef c\u1ee7a c\xe1c \u1ee9ng d\u1ee5ng phi t\u1eadp trung (dAPPs) m\xe0 b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng cho \u1ee9ng d\u1ee5ng c\u1ee7a m\xecnh. \u0110i\u1ec1u n\xe0y s\u1ebd cho ph\xe9p b\u1ea1n l\u01b0u tr\u1eef m\u1ed9t l\u01b0\u1ee3ng l\u1edbn d\u1eef li\u1ec7u, b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\u1ed9t gi\u1ea3i ph\xe1p thay th\u1ebf ti\u1ebft ki\u1ec7m h\u01a1n so v\u1edbi native NEAR storage."}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#arweave",children:"Arweave"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#crust",children:"Crust"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#ipfs",children:"IPFS"})}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"on-chain-storage-constraints",children:"On-Chain Storage Constraints"}),"\n",(0,i.jsx)(e.p,{children:"For storing data on-chain it's important to keep in mind the following:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"You can store an unlimited amount of files, but will cost you 1N per 100KB"}),"\n",(0,i.jsx)(e.li,{children:"There is a 4 MB limit on how much you can upload at once"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["For example, if you want to store an NFT purely on-chain (rather than using IPFS or some other decentralized storage solution as mentioned below) you'll have almost an unlimited amount of storage but will have to pay 1 $NEAR per 100 KB of storage used (see ",(0,i.jsx)(e.a,{href:"https://docs.near.org/concepts/storage/storage-staking",children:"Storage Staking"}),")"]}),"\n",(0,i.jsxs)(e.p,{children:["Users will be limited to 4MB per contract call upload due to ",(0,i.jsx)(e.code,{children:"MAX_GAS"})," constraints. The maximum amount of gas one can attach to a given ",(0,i.jsx)(e.code,{children:"functionCall"})," is 300TGas."]}),"\n",(0,i.jsx)(e.h2,{id:"arweave",children:"Arweave"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://www.arweave.org/",children:"Arweave"})," is a new type of storage that backs data with sustainable and perpetual endowments (tokens held within the protocol that benefit from inflation and the decrease in the cost of storage over long periods of time). Cho ph\xe9p c\xe1c user v\xe0 developer l\u01b0u tr\u1eef d\u1eef li\u1ec7u v\u0129nh vi\u1ec5n. C\xf3 th\u1ec3 hi\u1ec3u \u0111\u01a1n gi\u1ea3n Arweave nh\u01b0 m\u1ed9t \u1ed5 c\u1ee9ng d\xf9ng chung, cho ph\xe9p t\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi c\xf3 th\u1ec3 l\u01b0u tr\u1eef th\xf4ng tin c\xf3 gi\xe1 tr\u1ecb, c\xe1c \u1ee9ng d\u1ee5ng v\xe0 l\u1ecbch s\u1eed v\xf4 th\u1eddi h\u1ea1n tr\xean \u0111\xf3."]}),"\n",(0,i.jsxs)(e.p,{children:["The Arweave protocol matches a torrent-like swarm of incentivised miners with massive collective hard drive space with those individuals and organizations that need to store data or host content permanently. This is achieved in a decentralized network, and all data stored is backed by block mining rewards and a ",(0,i.jsx)(e.a,{href:"https://arwiki.wiki/#/en/storage-endowment",children:"sustainable endowment"})," ensuring it is available in perpetuity."]}),"\n",(0,i.jsxs)(e.p,{children:[":::Th\xf4ng tin \u0110\u1ec3 hi\u1ec3u r\xf5 h\u01a1n v\u1ec1 Arweave, b\u1ea1n c\xf3 th\u1ec3 \u0111\u1ecdc th\xeam v\u1ec1 ",(0,i.jsx)(e.a,{href:"https://arwiki.wiki/#/en/arweave-mining",children:"mining mechanism"})," v\xe0 ",(0,i.jsx)(e.a,{href:"https://arwiki.wiki/#/en/karma",children:"bandwidth-sharing system"}),". :::"]}),"\n",(0,i.jsx)(e.h3,{id:"example-implementation",children:"Example implementation"}),"\n",(0,i.jsx)(e.p,{children:"H\xe3y xem l\xe0m c\xe1ch n\xe0o \u0111\u1ec3 l\u01b0u tr\u1eef c\xe1c file tr\xean Arweave, ch\xfang ta c\u1ea7n d\u1ef1ng m\u1ed9t Arweave gateway \u1edf local - gi\u1ed1ng v\u1edbi Arweave server."}),"\n",(0,i.jsx)(e.h3,{id:"arlocal-setup",children:"Arlocal setup"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://github.com/textury/arlocal",children:"Arlocal"})," v\u1ec1 c\u01a1 b\u1ea3n, s\u1ebd t\u1ea1o ra phi\xean b\u1ea3n gi\u1ea3 l\u1eadp c\u1ee7a Arweave. C\xf3 th\u1ec3 h\xecnh dung n\xf3 l\xe0 m\u1ed9t local node \u0111\u1ec3 l\u01b0u tr\u1eef d\u1eef li\u1ec7u tr\xean m\xe1y t\xednh c\u1ee7a b\u1ea1n."]}),"\n",(0,i.jsxs)(e.p,{children:["Trong v\xed d\u1ee5 n\xe0y, b\u1ea1n c\u1ea7n m\u1edf ",(0,i.jsx)(e.strong,{children:"hai terminal"}),"."]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Trong terminal th\u1ee9 nh\u1ea5t, ch\u1ea1y l\u1ec7nh sau:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"npx arlocal\n"})}),"\n",(0,i.jsxs)(e.p,{children:["B\u1ea1n s\u1ebd th\u1ea5y th\xf4ng tin sau: ",(0,i.jsx)(e.code,{children:"arlocal started on port 1984"}),"."]}),"\n",(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["B\u1ea1n c\xf3 th\u1ec3 thay \u0111\u1ed5i port b\u1eb1ng c\xe1ch ",(0,i.jsx)(e.code,{children:"npx arlocal <desired port number>"}),". :::"]}),(0,i.jsx)(e.h3,{id:"near-arweave-frontend",children:"NEAR-Arweave frontend"}),(0,i.jsxs)(e.p,{children:["Trong ",(0,i.jsx)(e.a,{href:"https://github.com/near-examples/NEAR-Arweave-Tutorial",children:"kho l\u01b0u tr\u1eef NEAR-Arweave"})," c\xf3 m\u1ed9t frontend \u0111\u01a1n gi\u1ea3n v\u1ec1 vi\u1ec7c l\u01b0u tr\u1eef file \u0111\u1ecbnh d\u1ea1ng ",(0,i.jsx)(e.code,{children:".png"})," b\u1eb1ng arlocal."]}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Trong terminal th\u1ee9 hai, clone frontend b\u1eb1ng c\xe1ch ch\u1ea1y l\u1ec7nh sau:"}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/near-examples/NEAR-Arweave-Tutorial.git\n"})}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Truy c\u1eadp v\xe0o th\u01b0 m\u1ee5c v\u1eeba clone, c\xe0i \u0111\u1eb7t nh\u1eefng th\u01b0 vi\u1ec7n c\u1ea7n thi\u1ebft b\u1eb1ng c\xe1ch ch\u1ea1y l\u1ec7nh sau:"}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd NEAR-Arweave-Tutorial\nyarn\n"})}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Ti\u1ebfp theo, kh\u1edfi \u0111\u1ed9ng \u1ee9ng d\u1ee5ng b\u1eb1ng c\xe1ch ch\u1ea1y l\u1ec7nh sau:"}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"yarn start \n"})}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["B\xe2y gi\u1edd b\u1ea1n c\xf3 th\u1ec3 t\u1ea3i h\xecnh l\xean b\u1eb1ng c\xe1ch b\u1ea5m v\xe0o n\xfat ",(0,i.jsx)("kbd",{children:"Choose File"}),":"]}),"\n"]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Arweave b\u01b0\u1edbc 1",src:t(7086).Z+"",width:"1670",height:"569"})}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["B\u1ea1n s\u1ebd th\u1ea5y transaction ID \u0111\u01b0\u1ee3c \u0111i\u1ec1n v\xe0o \xf4 b\xean d\u01b0\u1edbi sau khi b\u1ea5m v\xe0o n\xfat ",(0,i.jsx)("kbd",{children:"Submit"}),":"]}),"\n"]}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Arweave b\u01b0\u1edbc 2",src:t(15988).Z+"",width:"1670",height:"573"})}),(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["N\u1ebfu c\xf3 l\u1ed7i, h\xe3y \u0111\u1ea3m b\u1ea3o r\u1eb1ng arlocal node \u0111ang ch\u1ea1y trong ",(0,i.jsx)(e.strong,{children:"terminal th\u1ee9 nh\u1ea5t"})," nh\xe9. :::"]}),(0,i.jsx)(e.h3,{id:"mining-your-transaction",children:"Mining your transaction"}),(0,i.jsx)(e.p,{children:"Trong Arweave, transaction c\u1ee7a b\u1ea1n s\u1ebd tr\u1ea3i qua hai tr\u1ea1ng th\xe1i: tr\u1ea1ng th\xe1i ch\u1edd v\xe0 tr\u1ea1ng th\xe1i x\xe1c nh\u1eadn. \u0110\u1ec3 \u0111\u1ea3m b\u1ea3o transaction c\u1ee7a b\u1ea1n ho\xe0n th\xe0nh v\xe0 c\xf3 th\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u, transaction ph\u1ea3i \u0111\u01b0\u1ee3c x\xe1c nh\u1eadn."}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Truy c\u1eadp v\xe0o ",(0,i.jsx)(e.code,{children:"http://localhost:1984/mine"})," tr\xean tr\xecnh duy\u1ec7t \u0111\u1ec3 g\u1eedi y\xeau c\u1ea7u khai th\xe1c t\u1edbi arlocal node."]}),"\n"]}),(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsx)(e.p,{children:"Do b\u1ea1n \u0111ang ch\u1ea1y m\u1ed9t node \u1edf local, n\xean b\u1ea1n c\xf3 l\u1ebd v\u1eabn c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u m\xe0 kh\xf4ng th\xf4ng qua b\u01b0\u1edbc n\xe0y.\nTrong th\u1ef1c t\u1ebf, khi l\xe0m vi\u1ec7c v\u1edbi Arweave node, b\u1ea1n ph\u1ea3i \u0111\u1ee3i cho t\u1edbi khi transaction \u0111\u01b0\u1ee3c khai th\xe1c v\xe0 x\xe1c nh\u1eadn."})})]})]}),"\n",(0,i.jsx)(e.h3,{id:"nh\u1eadn-h\xecnh",children:"Nh\u1eadn h\xecnh"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"B\xe2y gi\u1edd b\u1ea1n c\xf3 th\u1ec3 sao ch\xe9p v\xe0 d\xe1n b\u1ea5t k\u1ef3 arweave transaction ID xu\u1ea5t hi\u1ec7n trong b\u01b0\u1edbc 5 tr\xean frontend \u0111\u1ec3 nh\u1eadn file t\u1eeb local node:"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Arweave b\u01b0\u1edbc 3",src:t(91501).Z+"",width:"2884",height:"1786"})}),"\n",(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["Khi s\u1eed d\u1ee5ng m\u1ea1ng Arweave th\u1ef1c t\u1ebf n\xf3 y\xeau c\u1ea7u ph\u1ea3i mua artoken \u0111\u1ec3 tr\u1ea3 ph\xed l\u01b0u tr\u1eef. B\u1ea1n c\xf3 th\u1ec3 t\xecm hi\u1ec3u th\xeam t\u1ea1i ",(0,i.jsx)(e.a,{href:"https://www.arweave.org/",children:"arweave.org"}),". :::"]}),(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["The ",(0,i.jsx)(e.a,{href:"https://github.com/near/near-api-js",children:"near-api-js"})," and ",(0,i.jsx)(e.a,{href:"https://github.com/ArweaveTeam/arweave-js",children:"arweave-js"})," JavaScript libraries allow you to automate most of these steps. :::"]}),(0,i.jsx)(e.hr,{}),(0,i.jsx)(e.h2,{id:"crust",children:"Crust"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://crust.network",children:"Crust"})," provides a Web3.0 decentralized storage network for the Metaverse. It is designed to realize core values of decentralization, privacy and assurance. Crust supports multiple storage-layer protocols such as IPFS and exposes instant accessible on-chain storage functions to users. Crust\u02bcs technical stack is also capable of supporting data manipulation and computing."]}),(0,i.jsxs)(e.p,{children:["The Crust protocol is 100% compatible with the ",(0,i.jsx)(e.a,{href:"https://ipfs.io",children:"IPFS"})," protocol, and it matches people who have hard drive space to spare with those who need to store data or host content. Crust is based on the Polkadot ecosystem and supports most contract platforms, including NEAR/Solana/Ethereum/Elrond/etc. with its cross-chain solution."]}),(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["To learn more about Crust, check its ",(0,i.jsx)(e.a,{href:"https://wiki.crust.network/docs/en/DSM",children:"Decentralized Storage Market"})," and ",(0,i.jsx)(e.a,{href:"https://wiki.crust.network/docs/en/GPoS",children:"Guaranteed Proof of Stake"}),". Also, you can start with ",(0,i.jsx)(e.a,{href:"https://wiki.crust.network/docs/en/build101",children:"Build-101"}),". :::"]}),(0,i.jsx)(e.h3,{id:"integration-example",children:"Integration example"}),(0,i.jsx)(e.p,{children:"Here's a simple integration example to store a file with Crust and NEAR."}),(0,i.jsx)(e.h4,{id:"1-upload-the-file-to-ipfs",children:"1. Upload the file to IPFS"}),(0,i.jsx)(e.p,{children:"First, you need to put your files into IPFS."}),(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["If you want to learn how to upload ",(0,i.jsx)(e.strong,{children:"files and folders"})," into IPFS, please refer to ",(0,i.jsx)(e.a,{href:"https://wiki.crust.network/docs/en/buildFileStoringWithGWDemo#1-upload-files-to-ipfs-gateway",children:"this section"}),". :::"]}),(0,i.jsx)(e.p,{children:"There are 2 ways to upload a file to IPFS:"}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"using a local IPFS node"}),"\n",(0,i.jsxs)(e.li,{children:["using a remote ",(0,i.jsx)(e.a,{href:"https://docs.ipfs.io/concepts/ipfs-gateway/#authenticated-gateways",children:"IPFS W3Authed Gateway"})]}),"\n"]}),(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["You can find more details about ",(0,i.jsx)(e.code,{children:"ipfsW3GW"})," endpoints on ",(0,i.jsx)(e.a,{href:"https://github.com/crustio/ipfsscan/blob/main/lib/constans.ts#L29",children:"this link"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["You can also find a code example on how to upload a file to IPFS on ",(0,i.jsx)(e.a,{href:"https://github.com/crustio/crust-demo/blob/main/near/src/index.ts#L20-L51",children:"this link"}),". :::"]}),"\n"]}),(0,i.jsx)(e.h4,{id:"2-place-an-storage-order",children:"2. Place an storage order"}),(0,i.jsxs)(e.p,{children:["Next, you need to send a transaction named ",(0,i.jsx)(e.code,{children:"Place Storage Order"})," on Crust chain. This transaction will dispatch your storage requirement to each Crust IPFS nodes through the blockchain. Then the IPFS nodes will start pulling your file using the IPFS protocol."]}),(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["You can find more information about ",(0,i.jsx)(e.code,{children:"crustChainEndpoint"})," on ",(0,i.jsx)(e.a,{href:"https://github.com/crustio/crust-apps/blob/master/packages/apps-config/src/endpoints/production.ts#L9",children:"this link"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["You can create your own account (",(0,i.jsx)(e.code,{children:"seeds"}),") following ",(0,i.jsx)(e.a,{href:"https://wiki.crust.network/docs/en/crustAccount#create-an-account-1",children:"these instructions"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Check ",(0,i.jsx)(e.a,{href:"https://github.com/crustio/crust-demo/blob/main/near/src/index.ts#L82-L112",children:"this link"})," for a code example about placing a storage order on Crust. :::"]}),"\n"]}),(0,i.jsx)(e.h4,{id:"3-query-order-status",children:"3. Query order status"}),(0,i.jsxs)(e.p,{children:["Then, you can query the storage order by calling on-chain status (",(0,i.jsx)(e.code,{children:"status{replica_count, storage_duration, ...}"}),"). This call will return:"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n    "file_size": 23710,\n    "spower": 24895,\n    "expired_at": 2594488, // Storage duration\n    "calculated_at": 2488,\n    "amount": "545.3730 nCRU",\n    "prepaid": 0,\n    "reported_replica_count": 1, // Replica count\n    "replicas": [{\n        "who": "cTHATJrSgZM2haKfn5e47NSP5Y5sqSCCToxrShtVifD2Nfxv5",\n        "valid_at": 2140,\n        "anchor": "0xd9aa29dda8ade9718b38681adaf6f84126531246b40a56c02eff8950bb9a78b7c459721ce976c5c0c9cd4c743cae107e25adc3a85ed7f401c8dde509d96dcba0",\n        "is_reported": true,\n        "created_at": 2140\n    }] // Who stores the file\n}\n'})}),(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["Find a code example about quering storage status on ",(0,i.jsx)(e.a,{href:"https://github.com/crustio/crust-demo/blob/main/near/src/index.ts#L144-L147",children:"this link"}),". :::"]}),(0,i.jsx)(e.h4,{id:"4-add-file-prepaid",children:"4. Add file prepaid"}),(0,i.jsx)(e.p,{children:"The default storage time for a single transaction (order) is 6 months. If you want to extend the storage duration, Crust provides a prepaid pool so you can customize the file's storage time. This pool allows you to put some tokens and will automatically extend the file's storage time."}),(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["Follow ",(0,i.jsx)(e.a,{href:"https://github.com/crustio/crust-demo/blob/main/near/src/index.ts#L114-L142",children:"this link"})," for a code snippet on how to add prepaid tokens to your files. :::"]}),(0,i.jsx)(e.hr,{}),(0,i.jsx)(e.h2,{id:"ipfs",children:"IPFS"}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://ipfs.io/",children:"InterPlanetary File System"})," (IPFS) \u0111\u01b0\u1ee3c bi\u1ebft \u0111\u1ebfn nh\u01b0 l\xe0 m\u1ed9t giao th\u1ee9c, m\u1ed9t m\u1ea1ng ngang h\xe0ng (peer-to-peer) cho ph\xe9p ng\u01b0\u1eddi d\xf9ng l\u01b0u tr\u1eef, chia s\u1ebb d\u1eef li\u1ec7u tr\xean m\u1ed9t h\u1ec7 th\u1ed1ng t\u1ec7p d\u1eef li\u1ec7u ph\xe2n t\xe1n (distributed file system). IPFS s\u1eed d\u1ee5ng c\xf4ng ngh\u1ec7 content-addressing nh\u1eb1m x\xe1c \u0111\u1ecbnh t\xednh duy nh\u1ea5t c\u1ee7a t\u1eebng file, trong m\u1ed9t kh\xf4ng gian to\xe0n c\u1ee5c \u0111\u01b0\u1ee3c h\xecnh th\xe0nh b\u1eb1ng c\xe1ch k\u1ebft n\u1ed1i c\xe1c thi\u1ebft b\u1ecb \u0111i\u1ec7n to\xe1n l\u1ea1i v\u1edbi nhau."]}),(0,i.jsx)(e.h3,{id:"content-identifier",children:"Content identifier"}),(0,i.jsx)(e.p,{children:"Khi ng\u01b0\u1eddi s\u1eed d\u1ee5ng t\u1ea3i l\xean m\u1ed9t file, h\u1ec7 th\u1ed1ng IPFS s\u1ebd chia nh\u1ecf file n\xe0y th\xe0nh c\xe1c \u0111o\u1ea1n d\u1eef li\u1ec7u nh\u1ecf h\u01a1n. C\xe1c \u0111o\u1ea1n d\u1eef li\u1ec7u n\xe0y \u0111\u1ec1u \u0111\u01b0\u1ee3c hash v\xe0 \u0111\u01b0\u1ee3c h\u1ec7 th\u1ed1ng cung c\u1ea5p m\u1ed9t m\xe3 \u0111\u1ecbnh danh ri\xeang bi\u1ec7t, duy nh\u1ea5t trong h\u1ec7 th\u1ed1ng, m\xe3 \u0111\u1ecbnh danh n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi l\xe0 content identifier (CID)."}),(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsx)(e.mdxAdmonitionTitle,{}),(0,i.jsx)(e.p,{children:"CID \u0111\xf3ng vai tr\xf2 nh\u01b0 m\u1ed9t b\u1ea3n ghi v\u0129nh c\u1eedu c\u1ee7a m\u1ed9t file. N\xf3 t\u1ed3n t\u1ea1i t\u1eeb l\xfac \u0111\u01b0\u1ee3c x\u1eed l\xfd th\xe0nh c\xf4ng trong IPFS."})]})]})]})]})]})]})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"t\xecm-ki\u1ebfm",children:"T\xecm ki\u1ebfm"}),"\n",(0,i.jsx)(e.p,{children:"Khi m\u1ed9t node t\xecm ki\u1ebfm m\u1ed9t file, n\xf3 s\u1ebd h\u1ecfi nh\u1eefng node ngang h\xe0ng b\u1eb1ng CID \u0111\u1ec3 l\u1ea5y \u0111\u1ea7y n\u1ed9i dung c\u1ee7a file. Khi m\u1ed9t node xem ho\u1eb7c t\u1ea3i v\u1ec1 m\u1ed9t file, n\xf3 s\u1ebd cache m\u1ed9t b\u1ea3n sao v\xe0 s\u1ebd tr\u1edf th\xe0nh m\u1ed9t node cung c\u1ea5p th\xf4ng tin cho \u0111\u1ebfn khi cache b\u1ecb x\xf3a."}),"\n",(0,i.jsx)(e.h3,{id:"\u0111\xe1nh-d\u1ea5u-n\u1ed9i-dung",children:"\u0110\xe1nh d\u1ea5u n\u1ed9i dung"}),"\n",(0,i.jsx)(e.p,{children:"Tr\xean m\u1ea1ng IPFS, m\u1ed7i m\u1ed9t node ch\u1ec9 l\u01b0u tr\u1eef nh\u1eefng n\u1ed9i dung m\xe0 n\xf3 quan t\xe2m. C\xe1c node c\xf3 th\u1ec3 \u0111\xe1nh d\u1ea5u n\u1ed9i dung b\u1ea5t k\u1ef3 \u0111\u1ec3 l\u01b0u tr\u1eef n\xf3 m\xe3i m\xe3i ho\u1eb7c lo\u1ea1i b\u1ecf c\xe1c n\u1ed9i dung m\xe0 n\xf3 kh\xf4ng c\xf2n \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u1eb1m ti\u1ebft ki\u1ec7m kh\xf4ng gian l\u01b0u tr\u1eef."}),"\n",(0,i.jsx)(e.h3,{id:"phi\xean-b\u1ea3n-c\u1ee7a-file",children:"Phi\xean b\u1ea3n c\u1ee7a file"}),"\n",(0,i.jsx)(e.p,{children:"Trong qu\xe1 tr\xecnh s\u1eed d\u1ee5ng, khi ng\u01b0\u1eddi d\xf9ng t\u1ea3i l\xean m\u1ea1ng IPFS m\u1ed9t phi\xean b\u1ea3n m\u1edbi c\u1ee7a file m\xe0 h\u1ecd \u0111ang s\u1edf h\u1eefu, file n\xe0y s\u1ebd \u0111\u01b0\u1ee3c nh\u1eadn m\u1ed9t CID m\u1edbi do \u0111o\u1ea1n m\xe3 ho\xe1 \u0111\xe3 b\u1ecb thay \u0111\u1ed5i. Nh\u01b0 v\u1eady, file g\u1ed1c s\u1ebd kh\xf4ng b\u1ecb ghi \u0111\xe8 \u0111\u1ed1i v\u1edbi b\u1ea5t k\u1ef3 s\u1ef1 thay \u0111\u1ed5i d\u1eef li\u1ec7u n\xe0o trong qu\xe1 tr\xecnh s\u1eed d\u1ee5ng. Nh\u1eb1m t\u1ed1i \u01b0u chi ph\xed l\u01b0u tr\u1eef, c\xe1c \u0111o\u1ea1n d\u1eef li\u1ec7u nh\u1ecf kh\xf4ng b\u1ecb thay \u0111\u1ed5i c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c t\xe1i s\u1eed d\u1ee5ng."}),"\n",(0,i.jsx)(e.h3,{id:"naming-system",children:"Naming system"}),"\n",(0,i.jsx)(e.p,{children:"IPFS \u0111\xe3 cung c\u1ea5p s\u1eb5n m\u1ed9t h\u1ec7 th\u1ed1ng \u0111\u1eb7t t\xean ph\xe2n t\xe1n (decentralized naming system) n\xean b\u1ea1n kh\xf4ng nh\u1ea5t thi\u1ebft ph\u1ea3i nh\u1edb chu\u1ed7i k\xed t\u1ef1 r\u1ea5t d\xe0i c\u1ee7a c\xe1c CID. IPFS c\xf3 th\u1ec3 t\xecm ki\u1ebfm version m\u1edbi nh\u1ea5t cho file c\u1ee7a ng\u01b0\u1eddi d\xf9ng b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng naming system ph\xe2n t\xe1n IPNS. Ng\u01b0\u1eddi d\xf9ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng DNSLink \u0111\u1ec3 li\xean k\u1ebft c\xe1c m\xe3 CID v\u1edbi c\xe1c t\xean DNS c\xf3 th\u1ec3 d\u1ec5 d\xe0ng \u0111\u1ecdc hi\u1ec3u."}),"\n",(0,i.jsx)(e.h3,{id:"c\xe1c-nh\xe0-cung-c\u1ea5p-ipfs",children:"C\xe1c nh\xe0 cung c\u1ea5p IPFS"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://web3.storage/",children:"Web3.Storage"}),": \u0110\xe2y l\xe0 m\u1ed9t d\u1ecbch v\u1ee5 mi\u1ec5n phi gi\xfap \u0111\u01a1n gi\u1ea3n ho\xe1 qu\xe1 tr\xecnh x\xe2y d\u1ef1ng tr\xean IPFS v\xe0 Filecoin. \u0110\u01b0\u1ee3c s\u1ef1 h\u1ed7 tr\u1ee3 b\u1edfi FileCoin, Web3.Storage bi\u1ebfn c\xe1c n\u1ed9i d\u1ee5ng tr\u1edf n\xean kh\u1ea3 d\u1ee5ng th\xf4ng qua IPFS, t\u1eadn d\u1ee5ng t\u1ed1i \u0111a c\xe1c s\u1ee9c m\u1ea1nh ri\xeang bi\u1ec7t c\u1ee7a t\u1eebng m\u1ea1ng."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://nft.storage/",children:"NFT.Storage"}),": \u0110\xe2y l\xe0 d\u1ecbch v\u1ee5 mi\u1ec5n ph\xed, \u0111\u01b0\u1ee3c x\xe2y d\u1ef1ng v\xe0 ph\xe1t tri\u1ec3n ri\xeang bi\u1ec7t nh\u1eb1m l\u01b0u tr\u1eef c\xe1c d\u1eef li\u1ec7u NFT off-chain. C\xe1c d\u1eef li\u1ec7u n\xe0y \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef phi t\u1eadp trung tr\xean IPFS v\xe0 FileCoin. C\xe1c d\u1eef li\u1ec7u n\xe0y \u0111\u01b0\u1ee3c tham chi\u1ebfu th\xf4ng qua vi\u1ec7c s\u1eed d\u1ee5ng content-addressed IPFS URIs, cho n\xean n\xf3 ho\xe0n to\xe0n c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong c\xe1c smart contract."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://filebase.com/",children:"Filebase"}),": a geo-redundant IPFS pinning provider that pins all IPFS files with automatic 3x redundancy across diverse, geographic locations for additional performance, redundancy, and reliability."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"v\xed-d\u1ee5",children:"V\xed d\u1ee5"}),"\n",(0,i.jsxs)(e.p,{children:["T\xedch h\u1ee3p m\u1ed9t IPFS \u0111\u01a1n gi\u1ea3n b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,i.jsx)(e.a,{href:"https://nft.storage/api-docs/",children:"NFT.Storage API"}),":"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://nft.storage/login/",children:"\u0110\u0103ng k\xfd m\u1ed9t account tr\xean nft.storage"})," \u0111\u1ec3 c\xf3 th\u1ec3 t\u1ea1o c\xe1c API access key."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://nft.storage/manage/",children:"T\u1ea1o m\u1ed9t API access key"})," v\xe0 l\u01b0u n\xf3 l\u1ea1i."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Submit m\u1ed9t ",(0,i.jsx)(e.code,{children:"HTTP POST"})," request \u0111\u1ebfn ",(0,i.jsx)(e.code,{children:"api.nft.storage/upload"}),", nh\u1eadp API key v\xe0 file data trong request body:"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"curl -X POST --data-binary @/path/to/file/art.png -H 'Authorization: Bearer YOUR_API_KEY' https://api.nft.storage/upload\n"})}),"\n",(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["If you want to use a different HTTP client, don't forget to configure and set the Authorization header: ",(0,i.jsx)(e.code,{children:'"Authorization": "Bearer YOUR_API_KEY"'})," :::"]}),(0,i.jsxs)(e.p,{children:["C\xe1c request th\xe0nh c\xf4ng s\u1ebd nh\u1eadn m\u1ed9t ",(0,i.jsx)(e.code,{children:"HTTP 200"})," status v\xe0 ",(0,i.jsx)(e.code,{children:"application/json"})," response nh\u01b0:"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "ok": true,\n  "value": { "cid": "bafy..." }\n}\n'})}),(0,i.jsxs)(e.ol,{start:"4",children:["\n",(0,i.jsxs)(e.li,{children:["S\u1eed d\u1ee5ng ",(0,i.jsx)(e.code,{children:"cid"}),", thay th\u1ebf n\xf3 v\xe0o URL c\u1ee7a image: ",(0,i.jsx)(e.code,{children:"https://<cid>.ipfs.dweb.link/"})]}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"https://bafyreiabag3ztnhe5pg7js4bj6sxuvkz3sdf76cjvcuqjoidvnfjz7vwrq.ipfs.dweb.link/\n"})}),(0,i.jsxs)(e.p,{children:["B\xe2y gi\u1edd, file c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c upload l\xean IPFS, b\u1ea1n c\xf3 th\u1ec3 truy xu\u1ea5t l\u1ea1i n\xf3 b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,i.jsx)(e.code,{children:"cid"})," link."]}),(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["Xem th\xeam ",(0,i.jsx)(e.a,{href:"https://nft.storage/api-docs/",children:"NFT.Storage Docs"})," \u0111\u1ec3 bi\u1ebft th\xeam c\xe1c th\xf4ng tin li\xean quan v\u1ec1 v\u1ea5n \u0111\u1ec1 upload nhi\u1ec1u file v\xe0 c\xe1c endpoint kh\u1ea3 d\u1ee5ng kh\xe1c. :::"]})})]})]})}function d(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},7086:(n,e,t)=>{t.d(e,{Z:()=>i});const i=t.p+"assets/images/arweave-1-8d8a832512a652d912a1eae28447e428.png"},15988:(n,e,t)=>{t.d(e,{Z:()=>i});const i=t.p+"assets/images/arweave-2-edbce3ed8fc9acd1b8b412020a85f206.png"},91501:(n,e,t)=>{t.d(e,{Z:()=>i});const i=t.p+"assets/images/arweave-3-7c5d4ca87afd640a988a081b8df7f4c6.png"},11151:(n,e,t)=>{t.d(e,{Z:()=>c,a:()=>a});var i=t(67294);const s={},r=i.createContext(s);function a(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);